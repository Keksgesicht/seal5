---
riscv:
  xlen: 32
  features:
  - m
  - fast-unaligned-access
  legalization:
    gisel:
      ops:
      - name: [G_MAX, G_MAXU, G_MIN, G_MINU, G_ABS]
        types: [s32]
        onlyif: [HasExtXCvalu]
      - name: [G_ADD, G_SUB, G_AND, G_OR, G_XOR, G_ASHR, G_LSHR, G_SHL]
        types: [v4i8, v2i16]
        onlyif: [HasExtXcvsimd]
      - name: G_INSERT_VECTOR_ELT
        types: [v4i8, v2i16]
        onlyif: [HasExtXcvsimd]
      - name: [G_ADD]
        types: [v4i8, v2i16]
        onlyif: [HasExtmyext_alu]
      - name: [G_ADD]
        types: [s16, s32]
        onlyif: [HasExtmyext_alu]
      # TODO: G_BITCAST
  transform_info:
    shouldFoldTerminatingConditionAfterLSR: true
    prefersVectorizedAddressing: false
    enableInterleavedAccessVectorization: true
    enableMaskedInterleavedAccessVectorization: null
    enableScalableVectorization: false
    preferEpilogueVectorization: null
    supportsScalableVectors: false
    # getInliningThresholdMultiplier: ?
    # getInliningCostBenefitAnalysisSavingsMultiplier: ?
    # getInliningCostBenefitAnalysisProfitableMultiplier: ?
    # getInlinerVectorBonusPercent: ?
    # getFlatAddressSpace: ?
    # getMinVectorRegisterBitWidth: ?
    # getCacheLineSize: ?
    # getPrefetchDistance: ?
    # getMaxPrefetchIterationsAhead: ?
    # getMaxMemIntrinsicInlineSizeThreshold: ?
    # getAtomicMemIntrinsicMaxElementSize: ?
    # getMaxNumArgs: ?
    # getGISelRematGlobalCost: ?
    # getMinTripCountTailFoldingThreshold: ?
    # getMaxVScale: ?
    # getVScaleForTuning: ?
    # getPredictableBranchThreshold: ?
    # isSingleThreaded: ?
    # isNumRegsMajorCostOfLSR: ?
    # canMacroFuseCmp: ?
    # enableOrderedReductions: ?
    # LSRWithInstrQueries: ?
    # useAA: ?
    # shouldBuildLookupTables: ?
    # shouldBuildRelLookupTables: ?
    # supportsEfficientVectorElementLoadStore: ?
    # supportsTailCalls: ?
    # enableSelectOptimize: ?
    # isFPVectorizationPotentiallyUnsafe: ?
    # isVScaleKnownToBeAPowerOfTwo: ?
    # enableWritePrefetching: ?
